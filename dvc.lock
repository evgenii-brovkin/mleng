filter:
  cmd: python scripts/filter.py data/data.csv
  deps:
  - path: data/data.csv
    md5: 3715c6f6084d5831c447941737660716
  - path: scripts/filter.py
    md5: 2a26dfedff5e8905eb77c96ed874633d
  params:
    params.yaml:
      filter.date: '2013-04-01'
  outs:
  - path: data/filtered
    md5: 85b98ce4a03997c8669c8d52beb4d18c.dir
split:
  cmd: python scripts/split.py data/filtered/filtered.csv
  deps:
  - path: data/filtered/filtered.csv
    md5: cbe4e89c203a67cada75563db2fc367a
  - path: scripts/split.py
    md5: b024a5c07cd993c99e40ae18744005c3
  outs:
  - path: data/splitted
    md5: bf87b88502bf8c07dbe74f4e92fe47bd.dir
feature_extraction:
  cmd: python scripts/featurization.py data/splitted/report.csv
  deps:
  - path: data/splitted/report.csv
    md5: 7a8f80c41c8de123685774eec20a1b32
  - path: scripts/featurization.py
    md5: 69b3833f032328baccca3c78cd8fa757
  params:
    params.yaml:
      feature_extraction.max_features: 20
      feature_extraction.ngrams: 1
  outs:
  - path: data/features
    md5: 33fa7b084f52c477f6c0e3604c6bd8f2.dir
train_test_split:
  cmd: python scripts/train_test_split.py data/features/features.pkl data/splitted/parsed.csv
  deps:
  - path: data/features/features.pkl
    md5: dd587e6ad4eafff9e7c3b20f633e5387
  - path: data/splitted/parsed.csv
    md5: 599c350cb6f067c048fa47ac97bc2801
  - path: scripts/train_test_split.py
    md5: 6990b5ce945f08f40626d29ee8c83e30
  params:
    params.yaml:
      train_test_split.seed: 32
      train_test_split.test_size: 0.2
  outs:
  - path: data/test
    md5: 00808934e6a47618748c61a52cdb5bc0.dir
  - path: data/train
    md5: 2295c8d01dcac42230f60dfd81182cd6.dir
train:
  cmd: python scripts/train.py data/train/train_pairs.pkl models/LogRegElasticNet.pkl
  deps:
  - path: data/train/train_pairs.pkl
    md5: bb8a7ebd25c6f6d3212e2153b4abd44a
  - path: scripts/train.py
    md5: ec1aeda1fcdb20b42eeb52c01c0dd281
  params:
    params.yaml:
      train.Cs: 10
      train.penalty: elasticnet
      train.seed: 32
  outs:
  - path: models
    md5: 0c8129b908ceb7460ffe823d6510f144.dir
evaluate:
  cmd: python scripts/evaluate.py models/LogRegElasticNet.pkl data/test/test_pairs.pkl
    results/logreg_scores.json
  deps:
  - path: data/test/test_pairs.pkl
    md5: 1d7398009747f849a2f23d0ee63ccc4a
  - path: models/LogRegElasticNet.pkl
    md5: 96e05ab6d755fcf2e728a4fd27783316
  - path: scripts/evaluate.py
    md5: cc668497898dc792ae5ea80df22480af
  outs:
  - path: results/logreg_scores.json
    md5: ca1cdd959268d34b72ab30d134f6225c
